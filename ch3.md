# 第3章 简单CUDA程序的基本框架
## 3.1 数组相加
cpp版本VectorAdd基本流程
- 1 申请内存(约2.4G主机内存)
- 2 数组初始化
- 3 数组相加
- 4 误差分析
- 5 释放内存
cpp实现[add.cpp](src/ch3/add.cpp)

## 3.2 CUDA程序的基本框架

- 单源文件组织形式

在大型程序中，往往使用多个源文件，源文件中包含多个函数；在入门阶段，本节只考虑单源文件的CUDA程序，其包含一个**主函数**和若干其他函数(包括cpp自定义函数和CUDA核函数)。一个典型的CUDA程序的基本框架如下

``` c++
头文件
常量定义(或者宏定义)
cpp 自定义函数和CUDA核函数的声明(原型)
int main(void)
{
    申请内存:主机&设备
    初始化主机中的数据
    数据迁移:主机->设备
    调用核函数:在设备中进行计算
    数据迁移:设备->主机
    释放内存:主机&设备
}
```

